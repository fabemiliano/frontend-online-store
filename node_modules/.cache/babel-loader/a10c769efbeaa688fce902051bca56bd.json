{"ast":null,"code":"import _toConsumableArray from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var Increment=/*#__PURE__*/function(_React$Component){_inherits(Increment,_React$Component);var _super=_createSuper(Increment);function Increment(props){var _this;_classCallCheck(this,Increment);_this=_super.call(this,props);_this.state={total:0};return _this;}_createClass(Increment,[{key:\"decrease\",value:function decrease(){var total=this.state.total;if(total>0){this.setState(function(state){return{total:state.total-1};});}}},{key:\"increase\",value:function increase(){var quantity=this.props.quantity;var total=this.state.total;if(total<quantity){this.setState(function(state){return{total:state.total+1};});}}},{key:\"addToCart\",value:function addToCart(){var total=this.state.total;var info=this.props.info;var infoWithQuantity=_objectSpread(_objectSpread({},info),{},{total:total});var storage=JSON.parse(localStorage.getItem('cart'));if(storage===null){storage=[];}var newStorage=JSON.stringify([].concat(_toConsumableArray(storage),[infoWithQuantity]));localStorage.setItem('cart',newStorage);}},{key:\"render\",value:function render(){var _this2=this;var total=this.state.total;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Quantidade\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"increment\",onClick:function onClick(){return _this2.decrease();}},\"-\"),total,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"increment\",onClick:function onClick(){return _this2.increase();}},\"+\"),/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"product-detail-add-to-cart\",type:\"button\",onClick:function onClick(){return _this2.addToCart();}},\"Adicionar ao Carrinho\"));}}]);return Increment;}(React.Component);export default Increment;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/src/components/Increment.jsx"],"names":["React","Increment","props","state","total","setState","quantity","info","infoWithQuantity","storage","JSON","parse","localStorage","getItem","newStorage","stringify","setItem","decrease","increase","addToCart","Component"],"mappings":"6nCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,S,kHACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,KAAK,CAAE,CAAT,CAAb,CAFiB,aAGlB,C,iEAEU,IACDA,CAAAA,KADC,CACS,KAAKD,KADd,CACDC,KADC,CAET,GAAIA,KAAK,CAAG,CAAZ,CAAe,CACb,KAAKC,QAAL,CAAc,SAACF,KAAD,QAAY,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAN,CAAc,CAAvB,CAAZ,EAAd,EACD,CACF,C,2CAEU,IACDE,CAAAA,QADC,CACY,KAAKJ,KADjB,CACDI,QADC,IAEDF,CAAAA,KAFC,CAES,KAAKD,KAFd,CAEDC,KAFC,CAGT,GAAIA,KAAK,CAAGE,QAAZ,CAAsB,CACpB,KAAKD,QAAL,CAAc,SAACF,KAAD,QAAY,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAN,CAAc,CAAvB,CAAZ,EAAd,EACD,CACF,C,6CAEW,IACFA,CAAAA,KADE,CACQ,KAAKD,KADb,CACFC,KADE,IAEFG,CAAAA,IAFE,CAEO,KAAKL,KAFZ,CAEFK,IAFE,CAGV,GAAMC,CAAAA,gBAAgB,gCAAQD,IAAR,MAAcH,KAAK,CAALA,KAAd,EAAtB,CACA,GAAIK,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAd,CACA,GAAIJ,OAAO,GAAK,IAAhB,CAAsB,CACpBA,OAAO,CAAG,EAAV,CACD,CACD,GAAMK,CAAAA,UAAU,CAAGJ,IAAI,CAACK,SAAL,8BAAmBN,OAAnB,GAA4BD,gBAA5B,GAAnB,CACAI,YAAY,CAACI,OAAb,CAAqB,MAArB,CAA6BF,UAA7B,EACD,C,uCAEQ,oBACCV,CAAAA,KADD,CACW,KAAKD,KADhB,CACCC,KADD,CAEP,mBACE,4CACE,2CADF,cAEE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACa,QAAL,EAAN,EAArD,MAFF,CAGGb,KAHH,cAIE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACc,QAAL,EAAN,EAArD,MAJF,cAKE,8BACE,cAAY,4BADd,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,SAAL,EAAN,EAHX,0BALF,CADF,CAeD,C,uBAlDqBnB,KAAK,CAACoB,S,EAqD9B,cAAenB,CAAAA,SAAf","sourcesContent":["import React from 'react';\n\nclass Increment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { total: 0 };\n  }\n\n  decrease() {\n    const { total } = this.state;\n    if (total > 0) {\n      this.setState((state) => ({ total: state.total - 1 }));\n    }\n  }\n\n  increase() {\n    const { quantity } = this.props;\n    const { total } = this.state;\n    if (total < quantity) {\n      this.setState((state) => ({ total: state.total + 1 }));\n    }\n  }\n\n  addToCart() {\n    const { total } = this.state;\n    const { info } = this.props;\n    const infoWithQuantity = { ...info, total };\n    let storage = JSON.parse(localStorage.getItem('cart'));\n    if (storage === null) {\n      storage = [];\n    }\n    const newStorage = JSON.stringify([...storage, infoWithQuantity]);\n    localStorage.setItem('cart', newStorage);\n  }\n\n  render() {\n    const { total } = this.state;\n    return (\n      <div>\n        <h1>Quantidade</h1>\n        <button type=\"button\" className=\"increment\" onClick={() => this.decrease()}>-</button>\n        {total}\n        <button type=\"button\" className=\"increment\" onClick={() => this.increase()}>+</button>\n        <button\n          data-testid=\"product-detail-add-to-cart\"\n          type=\"button\"\n          onClick={() => this.addToCart()}\n        >\n          Adicionar ao Carrinho\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Increment;\n"]},"metadata":{},"sourceType":"module"}