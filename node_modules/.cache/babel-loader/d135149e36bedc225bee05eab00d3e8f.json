{"ast":null,"code":"import _classCallCheck from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./SearchBar.css';import ProductList from'./ProductList';import ButtonCart from'./ButtonCart';import*as api from'../services/api';function addText(){return/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"home-initial-message\",className:\"texto-pesquisa\"},\"Digite algum termo de pesquisa ou escolha uma categoria.\");}var SearchBar=/*#__PURE__*/function(_React$Component){_inherits(SearchBar,_React$Component);var _super=_createSuper(SearchBar);function SearchBar(props){var _this;_classCallCheck(this,SearchBar);_this=_super.call(this,props);_this.state={item:'',category:'',search:false,searchWithCategory:false,categories:[]};_this.changeValue=_this.changeValue.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchBar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;api.getCategories().then(function(result){return _this2.setState({categories:result});});}},{key:\"getCategory\",value:function getCategory(categoryId){this.setState({category:categoryId,search:false,searchWithCategory:true});}},{key:\"doSearch\",value:function doSearch(){this.setState({search:true,searchWithCategory:false});}},{key:\"changeValue\",value:function changeValue(e){this.setState({item:e.target.value,search:false});}},{key:\"renderSearchBar\",value:function renderSearchBar(){return/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"query-input\",type:\"text\",className:\"input\",onChange:this.changeValue}),addText());}},{key:\"renderCategories\",value:function renderCategories(){var _this3=this;var categories=this.state.categories;return categories.map(function(el){return/*#__PURE__*/React.createElement(\"div\",{className:\"categories\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"category\",key:el.id,value:el.name,onClick:function onClick(){return _this3.getCategory(el.id);}},el.name));});}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,item=_this$state.item,search=_this$state.search,searchWithCategory=_this$state.searchWithCategory,category=_this$state.category;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"top-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"searchbar\"},this.renderSearchBar(),/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"query-button\",type:\"button\",onClick:function onClick(){return _this4.doSearch();}},\"PESQUISAR\")),/*#__PURE__*/React.createElement(ButtonCart,{className:\"cart-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"product-sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"aside-categoria\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Ou selecione uma categoria:\"),this.renderCategories()),search&&/*#__PURE__*/React.createElement(ProductList,{item:item}),searchWithCategory&&/*#__PURE__*/React.createElement(ProductList,{category:category,item:item})));}}]);return SearchBar;}(React.Component);export default SearchBar;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/src/components/SearchBar.jsx"],"names":["React","ProductList","ButtonCart","api","addText","SearchBar","props","state","item","category","search","searchWithCategory","categories","changeValue","bind","getCategories","then","result","setState","categoryId","e","target","value","map","el","id","name","getCategory","renderSearchBar","doSearch","renderCategories","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './SearchBar.css';\nimport ProductList from './ProductList';\nimport ButtonCart from './ButtonCart';\nimport * as api from '../services/api';\n\nfunction addText() {\n  return (\n    <p data-testid=\"home-initial-message\" className=\"texto-pesquisa\">\n      Digite algum termo de pesquisa ou escolha uma categoria.\n    </p>\n  );\n}\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      item: '',\n      category: '',\n      search: false,\n      searchWithCategory: false,\n      categories: [],\n    };\n    this.changeValue = this.changeValue.bind(this);\n  }\n\n  componentDidMount() {\n    api.getCategories()\n      .then((result) => this.setState({ categories: result }));\n  }\n\n  getCategory(categoryId) {\n    this.setState({\n      category: categoryId,\n      search: false,\n      searchWithCategory: true,\n    });\n  }\n\n  doSearch() {\n    this.setState({\n      search: true,\n      searchWithCategory: false,\n    });\n  }\n\n  changeValue(e) {\n    this.setState({\n      item: e.target.value,\n      search: false,\n    });\n  }\n\n  renderSearchBar() {\n    return (\n      <center>\n        <input\n          data-testid=\"query-input\"\n          type=\"text\"\n          className=\"input\"\n          onChange={this.changeValue}\n        />\n        {addText()}\n      </center>\n    );\n  }\n\n  renderCategories() {\n    const { categories } = this.state;\n    return (\n      categories.map((el) => (\n        <div className=\"categories\">\n          <button\n            type=\"button\"\n            data-testid=\"category\"\n            key={el.id}\n            value={el.name}\n            onClick={() => this.getCategory(el.id)}\n          >\n            {el.name}\n          </button>\n        </div>\n      )));\n  }\n\n  render() {\n    const { item, search, searchWithCategory, category } = this.state;\n    return (\n      <div>\n        <div className=\"top-bar\">\n          <div className=\"searchbar\">\n            {this.renderSearchBar()}\n            <button\n              data-testid=\"query-button\"\n              type=\"button\"\n              onClick={() => this.doSearch()}\n            >\n              PESQUISAR\n            </button>\n          </div>\n          <ButtonCart className=\"cart-icon\" />\n        </div>\n        <div className=\"product-sidebar\">\n          {/* <Categories click={(event) => this.getCategorie(event)} /> */}\n          <div className=\"aside-categoria\">\n            <h3>Ou selecione uma categoria:</h3>\n            {this.renderCategories()}\n          </div>\n          {search && <ProductList item={item} />}\n          {searchWithCategory && <ProductList category={category} item={item} />}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}