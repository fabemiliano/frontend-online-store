{"ast":null,"code":"import _toConsumableArray from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import StarRatingComponent from'react-star-rating-component';import React from'react';import'./Rating.css';import Comments from'./Comments';var Rating=/*#__PURE__*/function(_React$Component){_inherits(Rating,_React$Component);var _super=_createSuper(Rating);function Rating(props){var _this;_classCallCheck(this,Rating);_this=_super.call(this,props);_this.state={email:'',message:'',rating:0};return _this;}_createClass(Rating,[{key:\"onStarClick\",value:function onStarClick(event){this.setState({rating:event});}},{key:\"updateField\",value:function updateField(field,event){this.setState(_defineProperty({},field,event.target.value));}},{key:\"createComment\",value:function createComment(){var _this$state=this.state,email=_this$state.email,message=_this$state.message,rating=_this$state.rating;var storage=JSON.parse(localStorage.getItem('comments'));if(storage===null){storage=[];}var newStorage=[].concat(_toConsumableArray(storage),[{email:email,message:message,rating:rating}]);localStorage.setItem('comments',[JSON.stringify(newStorage)]);this.setState({email:'',message:'',rating:0});}},{key:\"renderEmail\",value:function renderEmail(){var _this2=this;var email=this.state.email;return/*#__PURE__*/React.createElement(\"div\",{className:\"rating-section\"},/*#__PURE__*/React.createElement(\"input\",{id:\"email\",placeholder:\"E-mail\",value:email,onChange:function onChange(event){return _this2.updateField('email',event);}}));}},{key:\"renderTextArea\",value:function renderTextArea(){var _this3=this;var message=this.state.message;return/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Mensagem\",\"data-testid\":\"product-detail-evaluation\",value:message,onChange:function onChange(event){return _this3.updateField('message',event);}});}},{key:\"render\",value:function render(){var _this4=this;var rating=this.state.rating;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Deixe sua Avalia\\xE7\\xE3o\"),/*#__PURE__*/React.createElement(StarRatingComponent,{name:\"rate1\",className:\"stars\",starCount:5,value:rating,onStarClick:function onStarClick(e){return _this4.onStarClick(e);}}),this.renderEmail(),this.renderTextArea(),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"rating-button\",onClick:function onClick(){return _this4.createComment();}},\"Avaliar\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Comments,null)));}}]);return Rating;}(React.Component);export default Rating;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/src/components/Rating.jsx"],"names":["StarRatingComponent","React","Comments","Rating","props","state","email","message","rating","event","setState","field","target","value","storage","JSON","parse","localStorage","getItem","newStorage","setItem","stringify","updateField","e","onStarClick","renderEmail","renderTextArea","createComment","Component"],"mappings":"goCAAA,MAAOA,CAAAA,mBAAP,KAAgC,6BAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,GAEMC,CAAAA,M,4GACJ,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,OAAO,CAAE,EAFE,CAGXC,MAAM,CAAE,CAHG,CAAb,CAFiB,aAOlB,C,mEAEWC,K,CAAO,CACjB,KAAKC,QAAL,CAAc,CAAEF,MAAM,CAAEC,KAAV,CAAd,EACD,C,gDAEWE,K,CAAOF,K,CAAO,CACxB,KAAKC,QAAL,oBAAiBC,KAAjB,CAAyBF,KAAK,CAACG,MAAN,CAAaC,KAAtC,GACD,C,qDAEe,iBACqB,KAAKR,KAD1B,CACNC,KADM,aACNA,KADM,CACCC,OADD,aACCA,OADD,CACUC,MADV,aACUA,MADV,CAEd,GAAIM,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAd,CACA,GAAIJ,OAAO,GAAK,IAAhB,CAAsB,CAAEA,OAAO,CAAG,EAAV,CAAe,CACvC,GAAMK,CAAAA,UAAU,8BAAOL,OAAP,GAAgB,CAAER,KAAK,CAALA,KAAF,CAASC,OAAO,CAAPA,OAAT,CAAkBC,MAAM,CAANA,MAAlB,CAAhB,EAAhB,CACAS,YAAY,CAACG,OAAb,CAAqB,UAArB,CAAiC,CAACL,IAAI,CAACM,SAAL,CAAeF,UAAf,CAAD,CAAjC,EACA,KAAKT,QAAL,CAAc,CACZJ,KAAK,CAAE,EADK,CAEZC,OAAO,CAAE,EAFG,CAGZC,MAAM,CAAE,CAHI,CAAd,EAKD,C,iDAEa,oBACJF,CAAAA,KADI,CACM,KAAKD,KADX,CACJC,KADI,CAEZ,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,6BACE,EAAE,CAAC,OADL,CAEE,WAAW,CAAC,QAFd,CAGE,KAAK,CAAEA,KAHT,CAIE,QAAQ,CAAE,kBAACG,KAAD,QAAW,CAAA,MAAI,CAACa,WAAL,CAAiB,OAAjB,CAA0Bb,KAA1B,CAAX,EAJZ,EADF,CADF,CAUD,C,uDAEgB,oBACPF,CAAAA,OADO,CACK,KAAKF,KADV,CACPE,OADO,CAEf,mBACE,gCACE,WAAW,CAAC,UADd,CAEE,cAAY,2BAFd,CAGE,KAAK,CAAEA,OAHT,CAIE,QAAQ,CAAE,kBAACE,KAAD,QAAW,CAAA,MAAI,CAACa,WAAL,CAAiB,SAAjB,CAA4Bb,KAA5B,CAAX,EAJZ,EADF,CAQD,C,uCAEQ,oBACCD,CAAAA,MADD,CACY,KAAKH,KADjB,CACCG,MADD,CAEP,mBACE,4CACE,6CACE,0DADF,cAEE,oBAAC,mBAAD,EACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,OAFZ,CAGE,SAAS,CAAE,CAHb,CAIE,KAAK,CAAEA,MAJT,CAKE,WAAW,CAAE,qBAACe,CAAD,QAAO,CAAA,MAAI,CAACC,WAAL,CAAiBD,CAAjB,CAAP,EALf,EAFF,CASG,KAAKE,WAAL,EATH,CAUG,KAAKC,cAAL,EAVH,cAWE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,eAAhC,CAAgD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,aAAL,EAAN,EAAzD,YAXF,CADF,cAgBE,4CACE,oBAAC,QAAD,MADF,CAhBF,CADF,CAsBD,C,oBAjFkB1B,KAAK,CAAC2B,S,EAoF3B,cAAezB,CAAAA,MAAf","sourcesContent":["import StarRatingComponent from 'react-star-rating-component';\nimport React from 'react';\nimport './Rating.css';\nimport Comments from './Comments';\n\nclass Rating extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      message: '',\n      rating: 0,\n    };\n  }\n\n  onStarClick(event) {\n    this.setState({ rating: event });\n  }\n\n  updateField(field, event) {\n    this.setState({ [field]: event.target.value });\n  }\n\n  createComment() {\n    const { email, message, rating } = this.state;\n    let storage = JSON.parse(localStorage.getItem('comments'));\n    if (storage === null) { storage = []; }\n    const newStorage = [...storage, { email, message, rating }];\n    localStorage.setItem('comments', [JSON.stringify(newStorage)]);\n    this.setState({\n      email: '',\n      message: '',\n      rating: 0,\n    });\n  }\n\n  renderEmail() {\n    const { email } = this.state;\n    return (\n      <div className=\"rating-section\">\n        <input\n          id=\"email\"\n          placeholder=\"E-mail\"\n          value={email}\n          onChange={(event) => this.updateField('email', event)}\n        />\n      </div>\n    );\n  }\n\n  renderTextArea() {\n    const { message } = this.state;\n    return (\n      <textarea\n        placeholder=\"Mensagem\"\n        data-testid=\"product-detail-evaluation\"\n        value={message}\n        onChange={(event) => this.updateField('message', event)}\n      />\n    );\n  }\n\n  render() {\n    const { rating } = this.state;\n    return (\n      <div>\n        <form>\n          <h2>Deixe sua Avaliação</h2>\n          <StarRatingComponent\n            name=\"rate1\"\n            className=\"stars\"\n            starCount={5}\n            value={rating}\n            onStarClick={(e) => this.onStarClick(e)}\n          />\n          {this.renderEmail()}\n          {this.renderTextArea()}\n          <button type=\"button\" className=\"rating-button\" onClick={() => this.createComment()}>\n            Avaliar\n          </button>\n        </form>\n        <div>\n          <Comments />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Rating;\n"]},"metadata":{},"sourceType":"module"}