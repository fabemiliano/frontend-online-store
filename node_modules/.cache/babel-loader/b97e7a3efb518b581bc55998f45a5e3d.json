{"ast":null,"code":"import _toConsumableArray from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import cart2 from'./carrinho.png';var ButtonListing=/*#__PURE__*/function(_Component){_inherits(ButtonListing,_Component);var _super=_createSuper(ButtonListing);function ButtonListing(props){var _this;_classCallCheck(this,ButtonListing);_this=_super.call(this,props);_this.addCart=_this.addCart.bind(_assertThisInitialized(_this));return _this;}_createClass(ButtonListing,[{key:\"addCart\",value:function addCart(){var product=this.props.product;var getCart=JSON.parse(localStorage.getItem('cart'));if(!getCart){product.quantity=1;return localStorage.setItem('cart',JSON.stringify([_objectSpread(_objectSpread({},product),{},{total:1})]));}var verifyItem=getCart.find(function(item){return item.id===product.id;});if(verifyItem){var index=getCart.indexOf(verifyItem);if(verifyItem.quantity==='undefined')getCart[index].total=1;else getCart[index].total+=1;return localStorage.setItem('cart',JSON.stringify(getCart));}product.quantity=1;return localStorage.setItem('cart',JSON.stringify([].concat(_toConsumableArray(getCart),[_objectSpread(_objectSpread({},product),{},{total:1})])));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.addCart,\"data-testid\":\"product-add-to-cart\",className:\"button-add\"},\"Adicionar ao Carrinho\",/*#__PURE__*/React.createElement(\"img\",{src:cart2,width:\"20px\",alt:\"cart-icon\"}));}}]);return ButtonListing;}(Component);export default ButtonListing;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/src/components/ButtonListing.jsx"],"names":["React","Component","cart2","ButtonListing","props","addCart","bind","product","getCart","JSON","parse","localStorage","getItem","quantity","setItem","stringify","total","verifyItem","find","item","id","index","indexOf"],"mappings":"80CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,C,GAEMC,CAAAA,a,8GACJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EAEA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf,CAHiB,aAIlB,C,mEAES,IACAC,CAAAA,OADA,CACY,KAAKH,KADjB,CACAG,OADA,CAER,GAAMC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAhB,CACA,GAAI,CAACJ,OAAL,CAAc,CACZD,OAAO,CAACM,QAAR,CAAmB,CAAnB,CACA,MAAOF,CAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,CAA6BL,IAAI,CAACM,SAAL,CAAe,gCAAMR,OAAN,MAAeS,KAAK,CAAE,CAAtB,GAAf,CAA7B,CAAP,CACD,CACD,GAAMC,CAAAA,UAAU,CAAGT,OAAO,CAACU,IAAR,CAAa,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYb,OAAO,CAACa,EAA9B,EAAb,CAAnB,CACA,GAAIH,UAAJ,CAAgB,CACd,GAAMI,CAAAA,KAAK,CAAGb,OAAO,CAACc,OAAR,CAAgBL,UAAhB,CAAd,CACA,GAAIA,UAAU,CAACJ,QAAX,GAAwB,WAA5B,CAAyCL,OAAO,CAACa,KAAD,CAAP,CAAeL,KAAf,CAAuB,CAAvB,CAAzC,IACKR,CAAAA,OAAO,CAACa,KAAD,CAAP,CAAeL,KAAf,EAAwB,CAAxB,CAEL,MAAOL,CAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,CAA6BL,IAAI,CAACM,SAAL,CAAeP,OAAf,CAA7B,CAAP,CACD,CACDD,OAAO,CAACM,QAAR,CAAmB,CAAnB,CACA,MAAOF,CAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,CAA6BL,IAAI,CAACM,SAAL,8BAAmBP,OAAnB,kCAAiCD,OAAjC,MAA0CS,KAAK,CAAE,CAAjD,KAA7B,CAAP,CACD,C,uCAEQ,CACP,mBACE,8BACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,KAAKX,OAFhB,CAGE,cAAY,qBAHd,CAIE,SAAS,CAAC,YAJZ,uCAOE,2BAAK,GAAG,CAAEH,KAAV,CAAiB,KAAK,CAAC,MAAvB,CAA8B,GAAG,CAAC,WAAlC,EAPF,CADF,CAWD,C,2BAtCyBD,S,EAyC5B,cAAeE,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport cart2 from './carrinho.png';\n\nclass ButtonListing extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addCart = this.addCart.bind(this);\n  }\n\n  addCart() {\n    const { product } = this.props;\n    const getCart = JSON.parse(localStorage.getItem('cart'));\n    if (!getCart) {\n      product.quantity = 1;\n      return localStorage.setItem('cart', JSON.stringify([{ ...product, total: 1 }]));\n    }\n    const verifyItem = getCart.find((item) => item.id === product.id);\n    if (verifyItem) {\n      const index = getCart.indexOf(verifyItem);\n      if (verifyItem.quantity === 'undefined') getCart[index].total = 1;\n      else getCart[index].total += 1;\n\n      return localStorage.setItem('cart', JSON.stringify(getCart));\n    }\n    product.quantity = 1;\n    return localStorage.setItem('cart', JSON.stringify([...getCart, { ...product, total: 1 }]));\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.addCart}\n        data-testid=\"product-add-to-cart\"\n        className=\"button-add\"\n      >\n        Adicionar ao Carrinho\n        <img src={cart2} width=\"20px\" alt=\"cart-icon\" />\n      </button>\n    );\n  }\n}\n\nexport default ButtonListing;\n"]},"metadata":{},"sourceType":"module"}