{"ast":null,"code":"import _classCallCheck from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import*as api from'../services/api';import'./ProductList.css';import ButtonListing from'./ButtonListing';function renderButton(id,product){console.log(this);return/*#__PURE__*/React.createElement(\"button\",{type:\"button\"},/*#__PURE__*/React.createElement(Link,{className:\"link-detalhes\",\"data-testid\":\"product-detail-link\",to:{pathname:\"/\".concat(id,\"/details\"),state:product}},\"VER DATALHES\"));}var ProductList=/*#__PURE__*/function(_React$Component){_inherits(ProductList,_React$Component);var _super=_createSuper(ProductList);function ProductList(props){var _this;_classCallCheck(this,ProductList);_this=_super.call(this,props);_this.state={products:[],showProducts:false};return _this;}_createClass(ProductList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _this$props=this.props,category=_this$props.category,item=_this$props.item;api.getProductsFromCategoryAndQuery(category,item).then(function(result){_this2.setState({products:result.results,showProducts:true});});}},{key:\"render\",value:function render(){var _this$state=this.state,products=_this$state.products,showProducts=_this$state.showProducts;if(products.length===0&&showProducts===true){return/*#__PURE__*/React.createElement(\"p\",null,\"Nenhum produto foi encontrado\");}return/*#__PURE__*/React.createElement(\"div\",{className:\"product-list\"},products.map(function(product){return/*#__PURE__*/React.createElement(\"div\",{key:product.id,className:\"product\",\"data-testid\":\"product\"},/*#__PURE__*/React.createElement(\"p\",{className:\"search-result\"},product.title),/*#__PURE__*/React.createElement(\"img\",{src:product.thumbnail,alt:\"foto\"}),/*#__PURE__*/React.createElement(\"p\",null,\"R$\",product.price),product.shipping.free_shipping&&/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"free-shipping\"},\"Frete Gr\\xE1tis\"),renderButton(product.id,product),/*#__PURE__*/React.createElement(ButtonListing,{product:product}));}));}}]);return ProductList;}(React.Component);export default ProductList;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projects/frontend-online-store/src/components/ProductList.jsx"],"names":["React","Link","api","ButtonListing","renderButton","id","product","console","log","pathname","state","ProductList","props","products","showProducts","category","item","getProductsFromCategoryAndQuery","then","result","setState","results","length","map","title","thumbnail","price","shipping","free_shipping","Component"],"mappings":"ovBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,iBAArB,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,QAASC,CAAAA,YAAT,CAAsBC,EAAtB,CAA0BC,OAA1B,CAAmC,CACjCC,OAAO,CAACC,GAAR,CAAY,IAAZ,EACA,mBACE,8BACE,IAAI,CAAC,QADP,eAGE,oBAAC,IAAD,EACE,SAAS,CAAC,eADZ,CAEE,cAAY,qBAFd,CAGE,EAAE,CAAE,CACFC,QAAQ,YAAMJ,EAAN,YADN,CAEFK,KAAK,CAAEJ,OAFL,CAHN,iBAHF,CADF,CAgBD,C,GACKK,CAAAA,W,sHACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EACA,MAAKF,KAAL,CAAa,CACXG,QAAQ,CAAE,EADC,CAEXC,YAAY,CAAE,KAFH,CAAb,CAFiB,aAMlB,C,qFAEmB,iCACS,KAAKF,KADd,CACVG,QADU,aACVA,QADU,CACAC,IADA,aACAA,IADA,CAElBd,GAAG,CAACe,+BAAJ,CAAoCF,QAApC,CAA8CC,IAA9C,EACGE,IADH,CACQ,SAACC,MAAD,CAAY,CAChB,MAAI,CAACC,QAAL,CAAc,CACZP,QAAQ,CAAEM,MAAM,CAACE,OADL,CAEZP,YAAY,CAAE,IAFF,CAAd,EAID,CANH,EAOD,C,uCAEQ,iBAC4B,KAAKJ,KADjC,CACCG,QADD,aACCA,QADD,CACWC,YADX,aACWA,YADX,CAEP,GAAID,QAAQ,CAACS,MAAT,GAAoB,CAApB,EAAyBR,YAAY,GAAK,IAA9C,CAAoD,CAClD,mBAAO,6DAAP,CACD,CACD,mBACE,2BAAK,SAAS,CAAC,cAAf,EACGD,QAAQ,CAACU,GAAT,CAAa,SAACjB,OAAD,qBACZ,2BAAK,GAAG,CAAEA,OAAO,CAACD,EAAlB,CAAsB,SAAS,CAAC,SAAhC,CAA0C,cAAY,SAAtD,eACE,yBAAG,SAAS,CAAC,eAAb,EAA8BC,OAAO,CAACkB,KAAtC,CADF,cAEE,2BAAK,GAAG,CAAElB,OAAO,CAACmB,SAAlB,CAA6B,GAAG,CAAC,MAAjC,EAFF,cAGE,kCAEGnB,OAAO,CAACoB,KAFX,CAHF,CAOGpB,OAAO,CAACqB,QAAR,CAAiBC,aAAjB,eAAkC,yBAAG,cAAY,eAAf,oBAPrC,CAQGxB,YAAY,CAACE,OAAO,CAACD,EAAT,CAAaC,OAAb,CARf,cASE,oBAAC,aAAD,EAAe,OAAO,CAAEA,OAAxB,EATF,CADY,EAAb,CADH,CADF,CAiBD,C,yBA1CuBN,KAAK,CAAC6B,S,EA6ChC,cAAelB,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as api from '../services/api';\nimport './ProductList.css';\nimport ButtonListing from './ButtonListing';\n\nfunction renderButton(id, product) {\n  console.log(this);\n  return (\n    <button\n      type=\"button\"\n    >\n      <Link\n        className=\"link-detalhes\"\n        data-testid=\"product-detail-link\"\n        to={{\n          pathname: `/${id}/details`,\n          state: product,\n        }}\n      >\n        VER DATALHES\n      </Link>\n    </button>\n  );\n}\nclass ProductList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      showProducts: false,\n    };\n  }\n\n  componentDidMount() {\n    const { category, item } = this.props;\n    api.getProductsFromCategoryAndQuery(category, item)\n      .then((result) => {\n        this.setState({\n          products: result.results,\n          showProducts: true,\n        });\n      });\n  }\n\n  render() {\n    const { products, showProducts } = this.state;\n    if (products.length === 0 && showProducts === true) {\n      return <p>Nenhum produto foi encontrado</p>;\n    }\n    return (\n      <div className=\"product-list\">\n        {products.map((product) => (\n          <div key={product.id} className=\"product\" data-testid=\"product\">\n            <p className=\"search-result\">{product.title}</p>\n            <img src={product.thumbnail} alt=\"foto\" />\n            <p>\n              R$\n              {product.price}\n            </p>\n            {product.shipping.free_shipping && <p data-testid=\"free-shipping\">Frete Gr√°tis</p>}\n            {renderButton(product.id, product)}\n            <ButtonListing product={product} />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}